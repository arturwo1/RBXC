<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>SPTL Stats & Tokens Calculator</title>
  <meta name="description" content="SPTL Stats & Tokens Calculator ‚Äî a fast, user-friendly tool for Super Power Training League. Calculate training time, stat growth, token income, and multi-upgrade costs. Input your current values and boosts to get precise, mobile-friendly results ‚Äî created by arturwol." />
  <meta name="keywords" content="SPTL, Super Power Training League, SPTL calculator, stats calculator, tokens calculator, training calculator, SPTL stats, SPTL tokens, Roblox tools, stat tracker, boost, progression, arturwol, RBXC" />
  <meta name="author" content="arturwol" />
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="theme-color" content="#0e021e" />
  <meta name="application-name" content="SPTL Stats & Tokens Calculator" />
  <link rel="canonical" href="https://rbxc.netlify.app/sptlc/" />
  <link rel="icon" href="/images/sptl_favicon.png" type="image/x-icon" />

  <!-- Apple -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="SPTL Calculator" />

  <!-- Microsoft -->
  <meta name="msapplication-TileColor" content="#0e021e" />
  <meta name="msapplication-TileImage" content="/images/sptl_favicon.png" />

  <!-- Open Graph / Facebook / Discord / LinkedIn -->
  <meta property="og:title" content="SPTL Stats & Tokens Calculator" />
  <meta property="og:description" content="SPTL Stats & Tokens Calculator ‚Äî a fast, user-friendly tool for Super Power Training League. Calculate training time, stat growth, token income, and multi-upgrade costs. Input your current values and boosts to get precise, mobile-friendly results ‚Äî created by arturwol." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://rbxc.netlify.app/sptlc/" />
  <meta property="og:image" content="https://rbxc.netlify.app/images/sptl_banner.png" />
  <meta property="og:image:alt" content="SPTL Stats & Tokens Calculator banner and preview" />
  <meta property="og:site_name" content="SPTL Stats/Tokens Calculator" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SPTL Stats & Tokens Calculator" />
  <meta name="twitter:description" content="SPTL Stats & Tokens Calculator ‚Äî a fast, user-friendly tool for Super Power Training League. Calculate training time, stat growth, token income, and multi-upgrade costs. Input your current values and boosts to get precise, mobile-friendly results ‚Äî created by arturwol." />
  <meta name="twitter:image" content="https://rbxc.netlify.app/images/sptl_banner.png" />
  <meta name="twitter:image:alt" content="SPTL Stats Calculator cover image" />
  <meta name="twitter:creator" content="@artnrwol" />
  <meta name="twitter:site" content="@artnrwol" />

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SPTL Stats & Tokens Calculator",
    "url": "https://rbxc.netlify.app/sptlc/",
    "image": "https://rbxc.netlify.app/images/sptl_banner.png",
    "applicationCategory": "GameUtility",
    "operatingSystem": "All",
    "creator": {
      "@type": "Person",
      "name": "arturwol",
      "url": "https://rbxc.netlify.app"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "SPTL Stats & Tokens Calculator ‚Äî a fast, user-friendly tool for Super Power Training League. Calculate training time, stat growth, token income, and multi-upgrade costs. Input your current values and boosts to get precise, mobile-friendly results ‚Äî created by arturwol.",
    "keywords": "SPTL, Super Power Training League, SPTL calculator, stats calculator, tokens calculator, training calculator, Roblox tools, stat tracker, boost, progression, arturwol"
  }
  </script>

  <link rel="stylesheet" href="../assets/style.css">
  <link rel="manifest" href="/manifest.json">
</head>

<body data-palette="sptl">
  <div class="container">
    <div class="tabs">
      <div data-key="Stats" class="tab active" onclick="switchTab('stats')">Stats</div>
      <div data-key="Tokens" class="tab" onclick="switchTab('tokens')">Tokens</div>
      <!-- <div data-key="NPC" class="tab" onclick="switchTab('npc')">NPC</div> -->
      <div data-key="Settings" class="tab" onclick="switchTab('settings')">Settings</div>
      <div data-key="About" class="tab" onclick="switchTab('about')">About</div>
    </div>
    
    <div class="content-wrapper">
      <h1 >Stats Calculator</h1>

      <div id="stats-tab">
        <div class="form-group">
          <label>Select your Current Stat</label>
          <div class="custom-select" id="SPTLStatSelect">
            <div class="selected">Power</div>
            <div class="options">
              <div data-value="Power">Power</div>
              <div data-value="Health">Health</div>
              <div data-value="Defense">Defense</div>
              <div data-value="Psychics">Psychics</div>
              <div data-value="Magic">Magic</div>
              <div data-value="Mobility">Mobility</div>
            </div>
            <input type="hidden" id="SPTLStatType" value="Power">
          </div>
        </div>
        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTLFastTrain')">
            <div class="checkbox-box" id="SPTLFastTrain-box"></div>
            <span>"Faster Train" Gamepass</span>
          </div>
          <input type="checkbox" id="SPTLFastTrain" style="display: none;">
        </div>
        <div class="form-group">
          <label id="Faster">Faster Stat (Levels)</label>
          <input type="number" id="SPTLStatUpgrade" min="0" max="5"
            placeholder="Write your Upgrade Count in Level Skill Tree > Faster Stat, like 3">
          <button data-key="Count by %" id="SPTLChange" onclick="change()"
            style="width: fit-content;margin-top: -90%;height: 1%;padding-left: 5px;padding-right: 5px;display: inline-block;padding-top: 5px;padding-bottom: 5px;font-size: 16px;">Count
            by %</button>
        </div>
        <div class="form-group">
          <label>Stat per Tick</label>
          <input type="text" id="SPTLStatPerTick" placeholder="Write how much you getting this stat, like 2.08k">
        </div>
        <div class="form-group">
          <label>Current Stat</label>
          <input type="text" id="SPTLCurrentStat" placeholder="Write amount of current stat, like 58.5m">
        </div>
        <div class="form-group">
          <div class="custom-select" id="SPTLGoalSelect">
            <div class="selected">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            <div class="options">
              <div data-value="timeToAmount">Time to Goal(Ex.: 1d 2h 30m 45s)</div>
              <div data-value="amountToTime">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            </div>
            <input type="hidden" id="SPTLGoalType" value="amountToTime">
          </div>
          <div class="form-group" style="margin-top: 5px;">
            <input type="text" id="SPTLGoalValue" placeholder="Write your goal value here">
          </div>
        </div>
      </div>

      <div id="tokens-tab" style="display: none">
        <div class="form-group">
          <label>Tick per Tokens</label>
          <input type="number" id="SPTLTokenInterval" placeholder="Write how much time you wait to get tokens, like 30"
            min="35" max="60">
        </div>
        <div class="form-group">
          <label>Tokens per Tick</label>
          <input type="text" id="SPTLTokensPerInterval" placeholder="Write how much you getting tokens">
        </div>
        <div class="form-group">
          <label>Current Tokens</label>
          <input type="text" id="SPTLCurrentTokens" placeholder="Write amount of current tokens, like 58.5m">
        </div>
        <div class="form-group">
          <div class="custom-select" id="SPTLTokenSelect">
            <div class="selected">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            <div class="options">
              <div data-value="timeToAmount">Time to Goal(Ex.: 1d 2h 30m 45s)</div>
              <div data-value="amountToTime">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            </div>
            <input type="hidden" id="SPTLTokenGoalType" value="amountToTime">
          </div>
          <div class="form-group" style="margin-top: 5px;">
            <input type="text" id="SPTLTokenGoalValue" placeholder="Write your goal value here">
          </div>
        </div>
      </div>

      <div id="settings-tab" style="display: none">
        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTLDynamicTimestamp')">
            <div class="checkbox-box" id="SPTLDynamicTimestamp-box"></div>
            <span>Dynamic Timestamp</span>
          </div>
          <input type="checkbox" id="SPTLDynamicTimestamp" style="display: none;">
        </div>

        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTLShowYearsAndMonths')">
            <div class="checkbox-box" id="SPTLShowYearsAndMonths-box"></div>
            <span>Show Years & Months</span>
          </div>
          <input type="checkbox" id="SPTLShowYearsAndMonths" style="display: none;">
        </div>
      </div>

      <div id="about-tab" style="display: none;">
        <div class="about">
          <h2>üìò About This Calculator</h2>
          <p>
            This calculator helps you estimate <strong>training time</strong> and <strong>token gain</strong> in
            <em>Super Power Training League</em> (SPTL).  
            It uses the same logic as the in-game code to ensure accurate results.
          </p>

          <hr />

          <h3>‚öôÔ∏è Formula Overview</h3>
          <p>The main formula is based on the relation between your stat gain per tick and tick duration:</p>

          <pre><code class="language-js">
      // Gain per second
      gainPerSecond = perTick / tick

      // Tick duration
      tick = Math.floor(statTickSeconds / ((hasFastTrain ? 1.25 : 1) + statRealBoost) * 100) / 100

      // statRealBoost depends on your upgrade mode:
      if (mode === "percent") statRealBoost = statBoost / 20
      else statRealBoost = statBoost / 100
          </code></pre>

          <h4>üïí Base Stat Tick Times</h4>
          <table class="tick-table">
            <tr><th>Stat</th><th>Tick (sec)</th></tr>
            <tr><td>Power</td><td>1.0</td></tr>
            <tr><td>Defense</td><td>1.0</td></tr>
            <tr><td>Magic</td><td>1.0</td></tr>
            <tr><td>Health</td><td>1.2</td></tr>
            <tr><td>Psychics</td><td>1.2</td></tr>
            <tr><td>Mobility</td><td>1.4</td></tr>
          </table>

          <hr />

          <h3>üßÆ Example</h3>
          <p>
            Suppose you train <strong>Power</strong> and earn <code>2.08k</code> per tick, have a
            <em>‚ÄúFaster Train‚Äù</em> gamepass, and a <code>+15%</code> stat boost.
            The calculator will estimate how long it takes to reach your goal or how much you gain in a set time.
          </p>

          <hr />

          <h3>üë§ Author</h3>
          <p>
            Formula and calculator by <a href="https://github.com/arturwo1" target="_blank">@arturwol</a>.<br />
            If the in-game mechanics change, feel free to ping me on any <strong>SPTL</strong> community server or GitHub.
          </p>
        </div>
      </div>

      <button id="Calculate" onclick="calculate()">Calculate</button>
      <div class="result" id="result"></div>
    </div>
    <footer class="footer">made by @arturwol</footer>
  </div>
  <script type="module">
    import { parseNumber, formatNumber, parseTime, formatTime, saveForm, loadForm, updateCustomCheckboxes, updateCustomSelects, updateBackgroundClass, initCustomSelects, toggleCheckbox, switchTab } from '../assets/app.js';

    let currentCalculateId = 0;

    function change() {
      const changeButton = document.getElementById('SPTLChange');

      if (changeButton.dataset.key === 'Count by %') {
        changeButton.textContent = 'Count by Levels';
        changeButton.dataset.key = 'Count by Levels';
        document.getElementById('SPTLStatUpgrade').max = 25;
        document.getElementById('Faster').textContent = 'Faster Stat (%)';
        document.getElementById('SPTLStatUpgrade').placeholder = 'Write your Upgrade Percent in Level Skill Tree > Faster Stat, like 15';
      } else {
        changeButton.dataset.key = 'Count by %';
        changeButton.textContent = 'Count by %';
        document.getElementById('SPTLStatUpgrade').max = 5;
        document.getElementById('Faster').textContent = 'Faster Stat (Levels)';
        document.getElementById('SPTLStatUpgrade').placeholder = 'Write your Upgrade Count in Level Skill Tree > Faster Stat, like 3';
      }
    }

    async function calculate() {
      const dynamicTimestamp = document.getElementById('SPTLDynamicTimestamp').checked;
      const myCalculateId = ++currentCalculateId;

      const activeTab = document.querySelector('.tab.active').dataset.key;
      const changeButton = document.getElementById('SPTLChange').textContent;
      let result = '';
      let resultTitle = '';

      if (activeTab === 'Stats') {
        const statType = document.getElementById('SPTLStatType').value;
        const fastTrain = document.getElementById('SPTLFastTrain').checked;
        const statBoost = parseFloat(document.getElementById('SPTLStatUpgrade').value || 0);
        const perTick = parseNumber(document.getElementById('SPTLStatPerTick').value);
        const currentStat = parseNumber(document.getElementById('SPTLCurrentStat').value);
        const goalType = document.getElementById('SPTLGoalType').value;
        const goalValueRaw = document.getElementById('SPTLGoalValue').value;
        const goal = parseNumber(goalValueRaw);

        const statTickMap = {
          Power: 1,
          Defense: 1,
          Magic: 1,
          Health: 1.2,
          Psychics: 1.2,
          Mobility: 1.4
        };
        const statTickSeconds = statTickMap[statType] || 1;

        let statRealBoost;
        if (changeButton === 'Count by %') {
          statRealBoost = statBoost / 20;
        } else {
          statRealBoost = statBoost / 100;
        }

        const tick = Math.floor(statTickSeconds / ((fastTrain ? 1.25 : 1) + (statRealBoost)) * 100) / 100;
        const gainPerSecond = perTick / tick;

        if (goalType === 'amountToTime') {
          const goal = parseNumber(goalValueRaw);
          const left = goal - currentStat;
          const seconds = left / gainPerSecond;

          let currentStatEdidable = currentStat;
          let elapsed = 0;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `Goal reached at: ${localDateStr}`;
          if (dynamicTimestamp) {
            document.getElementById('result').title = resultTitle;
          }

          if (dynamicTimestamp) {
            while (currentStatEdidable < goal) {
              if (myCalculateId !== currentCalculateId) return;

              currentStatEdidable += perTick * tick;
              elapsed += 1;

              const remaining = Math.max(0, goal - currentStatEdidable);
              const estimatedRemainingTime = remaining / gainPerSecond;

              result = `Got ${formatNumber(currentStatEdidable)} ${statType} in ${formatTime(elapsed)}, Remaining: ${formatTime(estimatedRemainingTime)}`;
              document.getElementById('result').innerText = result;

              await new Promise(resolve => setTimeout(resolve, 1000));
            }
            result = `Goal reached in ${formatTime(elapsed)}!`;
          } else {
            result = `Time to Goal: ${formatTime(seconds)}`;
          }
        } else {
          const seconds = parseTime(goalValueRaw);
          const gained = gainPerSecond * seconds;
          result = `You will gain ${formatNumber(gained)} ${statType} in ${formatTime(seconds)}`;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `You will gain ${formatNumber(gained)} ${statType} at ${localDateStr}`;
        }

      } else {
        const interval = parseFloat(document.getElementById('SPTLTokenInterval').value || 0);
        const tokensPer = parseNumber(document.getElementById('SPTLTokensPerInterval').value);
        const goalType = document.getElementById('SPTLTokenGoalType').value;
        const valueRaw = document.getElementById('SPTLTokenGoalValue').value;
        const currentToken = parseNumber(document.getElementById('SPTLCurrentTokens').value);

        if (goalType === 'amountToTime') {
          const goal = parseNumber(valueRaw);
          const left = goal - currentToken;
          const totalSeconds = (left / tokensPer) * interval;

          let currentTokenEdidable = currentToken;
          let elapsed = 0;

          const targetDate = new Date(Date.now() + totalSeconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `Goal reached at: ${localDateStr}`;

          if (dynamicTimestamp) {
            document.getElementById('result').title = resultTitle;
          }

          if (dynamicTimestamp) {
            while (currentTokenEdidable < goal) {
              if (myCalculateId !== currentCalculateId) return;

              currentTokenEdidable += tokensPer / interval;
              elapsed += 1;

              const remaining = Math.max(0, goal - currentTokenEdidable);
              const estimatedRemainingTime = remaining / (tokensPer / interval);

              result = `Got ${formatNumber(currentTokenEdidable)} Tokens in ${formatTime(elapsed)}, Remaining: ${formatTime(estimatedRemainingTime)}`;
              document.getElementById('result').innerText = result;

              await new Promise(resolve => setTimeout(resolve, 1000));
            }
            result = `Goal reached in ${formatTime(elapsed)}!`;
          } else {
            result = `Time to Goal: ${formatTime(totalSeconds)}`;
          }
        } else {
          const seconds = parseTime(valueRaw);
          const totalTokens = (seconds / interval) * tokensPer;
          result = `You will gain ${formatNumber(totalTokens)} tokens in ${formatTime(seconds)}`;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `You will gain ${formatNumber(totalTokens)} tokens at ${localDateStr}`;
        }
      }

      document.getElementById('result').innerText = result;
      document.getElementById('result').title = resultTitle;
      saveForm();
    }

    window.switchTab = switchTab;
    window.toggleCheckbox = toggleCheckbox;
    window.change = change;
    window.calculate = calculate;

    window.onload = () => {
      loadForm();
      updateCustomCheckboxes();
      updateCustomSelects();
      updateBackgroundClass();

      document.querySelectorAll('input, select').forEach(input => {
        input.addEventListener('change', () => {
          saveForm();
          if (input.type === 'checkbox') updateCustomCheckboxes();
        });
      });

      initCustomSelects();
    };
  </script>
</body>

</html>