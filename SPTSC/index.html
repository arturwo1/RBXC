<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Fast, beautiful Stats & Tokens calculator for training progression ‚Äî supports K/M/B/T/Qa/Qd/Qi/Qn/Sx/Sp and time inputs (d h m s)." />
  <meta name="keywords"
    content="SPTS, stats calculator, tokens calculator, game helper, training time, tokens, Super Power Training Simulator" />
  <meta name="author" content="arturwol" />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#0e021e" />
  <meta name="application-name" content="SPTS Stats/Tokens Calculator" />
  <link rel="canonical" href="https://RBXC.netlify.app/SPTSC" />
  <link rel="icon" href="/images/spts_favicon.png" type="image/x-icon" />

  <!-- Apple -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="SPTS Calculator" />

  <!-- Microsoft -->
  <meta name="msapplication-TileColor" content="#0e021e" />
  <meta name="msapplication-TileImage" content="/images/spts_favicon.png" />

  <!-- Open Graph / Facebook / Discord / LinkedIn -->
  <meta property="og:title" content="SPTS Stats/Tokens Calculator" />
  <meta property="og:description"
    content="Easily calculate your stat training time and required tokens in SPTS. Plan your progress efficiently with this online calculator." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://RBXC.netlify.app/SPTSC" />
  <meta property="og:image" content="/images/spts_banner.png" />
  <meta property="og:image:alt" content="SPTS Calculator logo and preview" />
  <meta property="og:site_name" content="SPTS Stats/Tokens Calculator" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SPTS Stats/Tokens Calculator" />
  <meta name="twitter:description"
    content="A simple calculator to measure stat growth time and token requirements in Super Power Training League." />
  <meta name="twitter:image" content="/images/spts_banner.png" />
  <meta name="twitter:image:alt" content="SPTS Stats Calculator cover image" />
  <meta name="twitter:site" content="@artnrwol" />

  <title>SPTS Stats/Tokens Calculator</title>
  <link rel="stylesheet" href="../assets/style.css">
</head>

<body data-palette="spts_dark">
  <div class="container">
    <div class="tabs">
      <div data-key="Stats" class="tab active" onclick="switchTab('stats')">Stats</div>
      <div data-key="Tokens" class="tab" onclick="switchTab('tokens')">Tokens</div>
      <div data-key="Settings" class="tab" onclick="switchTab('settings')">Settings</div>
      <div data-key="About" class="tab" onclick="switchTab('about')">About</div>
    </div>

    <div class="content-wrapper">
      <h1 >Stats Calculator</h1>

      <div id="stats-tab">
        <div class="form-group">
          <label>Select your Current Stat</label>
          <div class="custom-select" id="SPTSStatSelect">
            <div class="selected" tabindex="0" aria-haspopup="listbox">Fist Strength</div>
            <div class="options" role="listbox">
              <div data-value="FS">Fist Strength</div>
              <div data-value="BT">Body Toughness</div>
              <div data-value="MS">Movement Speed</div>
              <div data-value="JF">Jump Force</div>
              <div data-value="PP">Psychic Power</div>
            </div>
            <input type="hidden" id="SPTSStatType" value="FS">
          </div>
        </div>

        <div class="form-group" style="display: none;" id="SPTSMSTickGroup">
          <label>MS Tick</label>
          <input type="text" id="SPTSMSTick"
            placeholder="Only for Movement Speed. MS tick are unstable, so you need to choose number. Default 2, in game you can get 3.">
        </div>

        <div class="form-group">
          <label>Stat per Tick</label>
          <input type="text" id="SPTSStatPerTick" placeholder="Write how much you getting this stat, like 2.08k">
        </div>

        <div class="form-group">
          <label>Current Stat</label>
          <input type="text" id="SPTSCurrentStat" placeholder="Write amount of current stat, like 58.5m">
        </div>

        <div class="form-group">
          <label>Stat Goal Type</label>
          <div class="custom-select" id="SPTSGoalSelect">
            <div class="selected" tabindex="0" aria-haspopup="listbox">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            <div class="options" role="listbox">
              <div data-value="timeToAmount">Time to Goal(Ex.: 1d 2h 30m 45s)</div>
              <div data-value="amountToTime">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            </div>
            <input type="hidden" id="SPTSGoalType" value="amountToTime">
          </div>

          <div class="form-group" style="margin-top: 5px;">
            <input type="text" id="SPTSGoalValue" placeholder="Write your goal value here">
          </div>
        </div>
      </div>

      <div id="tokens-tab" style="display: none">
        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSDailyQuests')">
            <div class="checkbox-box" id="SPTSDailyQuests-box"></div>
            <span>Daily Quests (+60/day)</span>
          </div>
          <input type="checkbox" id="SPTSDailyQuests" style="display: none;">
        </div>

        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSWeeklyQuests')">
            <div class="checkbox-box" id="SPTSWeeklyQuests-box"></div>
            <span>Weekly Quests (+9300/week)</span>
          </div>
          <input type="checkbox" id="SPTSWeeklyQuests" style="display: none;">
        </div>

        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSVIP')">
            <div class="checkbox-box" id="SPTSVIP-box"></div>
            <span>VIP (x2 daily & weekly)</span>
          </div>
          <input type="checkbox" id="SPTSVIP" style="display: none;">
        </div>

        <div class="form-group">
          <label>Current Tokens</label>
          <input type="text" id="SPTSCurrentTokens" placeholder="Write amount of current tokens, like 58.5m">
        </div>

        <div class="form-group">
          <label>Token Goal Type</label>
          <div class="custom-select" id="SPTSTokenSelect">
            <div class="selected" tabindex="0" aria-haspopup="listbox">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            <div class="options" role="listbox">
              <div data-value="timeToAmount">Time to Goal(Ex.: 1d 2h 30m 45s)</div>
              <div data-value="amountToTime">Amount to Goal(Ex.: 1.5m, 900k and etc.)</div>
            </div>
            <input type="hidden" id="SPTSTokenGoalType" value="amountToTime">
          </div>

          <div class="form-group" style="margin-top: 5px;">
            <input type="text" id="SPTSTokenGoalValue" placeholder="Write your goal value here">
          </div>
        </div>
      </div>

      <div id="settings-tab" style="display: none">
        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSDynamicTimestamp')">
            <div class="checkbox-box" id="SPTSDynamicTimestamp-box"></div>
            <span>Dynamic Timestamp</span>
          </div>
          <input type="checkbox" id="SPTSDynamicTimestamp" style="display: none;">
        </div>

        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSLightTheme')">
            <div class="checkbox-box" id="SPTSLightTheme-box"></div>
            <span>Light Theme</span>
          </div>
          <input type="checkbox" id="SPTSLightTheme" style="display: none;">
        </div>

        <div class="form-group">
          <div class="custom-checkbox" onclick="toggleCheckbox('SPTSShowYearsAndMonths')">
            <div class="checkbox-box" id="SPTSShowYearsAndMonths-box"></div>
            <span>Show Years & Months</span>
          </div>
          <input type="checkbox" id="SPTSShowYearsAndMonths" style="display: none;">
        </div>
      </div>

      <div id="about-tab" style="display: none;">
        <div class="about-card">
          <h2>üìò About This Calculator</h2>
          <p>
            <strong>SPTS Stats/Tokens Calculator</strong> is a fast, theme-adaptive tool built for
            <em>Super Power Training Simulator</em>.  
            It helps estimate <strong>training time</strong> for your stats and <strong>token progression</strong>
            ‚Äî based directly on in-game mechanics.
          </p>

          <hr />

          <h3>‚öôÔ∏è Stat Calculation Formula</h3>
          <p>
            The stat gain per second is calculated from your <code>Stat per Tick</code> value and the duration of each tick:
          </p>

          <pre><code class="language-js">
      // Gain per second
      gainPerSecond = perTick / tick

      // Tick duration (depends on stat)
      tick = statTickSeconds

      // Base Tick Times:
      FS = 1s
      BT = 1.25s
      MS = custom (default 2, community says 3 is possible)
      JF = 1s
      PP = 1.5s
          </code></pre>

          <h3>üí° Tokens Formula</h3>
          <p>
            Token gain includes both <strong>passive tokens</strong> (every 12s) and
            <strong>quest rewards</strong> if enabled.
          </p>

          <pre><code class="language-js">
      // Base passive tokens
      tokensPerSec = 5 / 60

      // Daily Quests (+60/day)
      daily = dailyEnabled ? 60 : 0

      // Weekly Quests (+9300/week)
      weekly = weeklyEnabled ? 9300 : 0

      // VIP doubles both
      if (vip) {
        daily *= 2
        weekly *= 2
      }

      totalPerSec = tokensPerSec + (daily/86400) + (weekly/(7*86400))
          </code></pre>

          <h3>üßÆ Example</h3>
          <p>
            If you gain <code>2.08k</code> Fist Strength per tick and your tick duration is <code>1s</code>,  
            this calculator determines exactly how long it will take to reach your target ‚Äî or how much you‚Äôll gain over a set time.
          </p>

          <hr />

          <h3>üé® Features</h3>
          <ul class="about-list">
            <li>üïπÔ∏è Calculates both <strong>Stats</strong> and <strong>Tokens</strong></li>
            <li>üé≠ Adapts to your current <strong>theme</strong> (Dark / Light)</li>
            <li>üìÖ Supports <strong>Dynamic Timestamps</strong></li>
            <li>üíæ Saves all input automatically</li>
            <li>üß† Uses in-game tick logic for accuracy</li>
          </ul>

          <hr />

          <h3>üë§ Author</h3>
          <p>
            Created and maintained by
            <a href="https://github.com/arturwo1" target="_blank">@arturwol</a>.<br />
            Got these formulas from official SPTS Discord server. 
            If anything changes ‚Äî open an issue or contact me on any <strong>SPTS</strong> community server.
          </p>
        </div>
      </div>

      <button id="Calculate" onclick="calculate()">Calculate</button>
      <div class="result" id="result"></div>
    </div>
    <footer class="footer">made by @arturwol</footer>
  </div>

  <script type="module">
    import { parseNumber, formatNumber, parseTime, formatTime, saveForm, loadForm, updateCustomCheckboxes, updateCustomSelects, updateBackgroundClass, initCustomSelects, applyTheme, toggleCheckbox, switchTab } from '../assets/app.js';

    let currentCalculateId = 0;

    async function calculate() {
      const dynamicTimestamp = document.getElementById('SPTSDynamicTimestamp').checked;
      const myCalculateId = ++currentCalculateId;

      const activeTab = document.querySelector('.tab.active').dataset.key;
      let result = '';
      let resultTitle = '';

      if (activeTab === 'Stats') {
        const statType = document.getElementById('SPTSStatType').value;
        const perTick = parseNumber(document.getElementById('SPTSStatPerTick').value);
        const MSTick = parseNumber(document.getElementById('SPTSMSTick').value) || 2;
        const currentStat = parseNumber(document.getElementById('SPTSCurrentStat').value);
        const goalType = document.getElementById('SPTSGoalType').value;
        const goalValueRaw = document.getElementById('SPTSGoalValue').value;

        const statTickMap = { FS: 1, BT: 1.25, MS: MSTick, JF: 1, PP: 1.5 };
        const statTickSeconds = statTickMap[statType] || 1;
        const tick = statTickSeconds;
        const gainPerSecond = (perTick || 1) / tick;

        if (goalType === 'amountToTime') {
          const goal = parseNumber(goalValueRaw);
          const left = goal - currentStat;
          const seconds = left / gainPerSecond;

          let currentStatEdidable = currentStat;
          let elapsed = 0;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `Goal reached at: ${localDateStr}`;
          if (dynamicTimestamp) {
            document.getElementById('result').title = resultTitle;
          }

          if (dynamicTimestamp) {
            while (currentStatEdidable < goal) {
              if (myCalculateId !== currentCalculateId) return;

              currentStatEdidable += perTick * tick;
              elapsed += 1;

              const remaining = Math.max(0, goal - currentStatEdidable);
              const estimatedRemainingTime = remaining / gainPerSecond;

              result = `Got ${formatNumber(currentStatEdidable)} ${statType} in ${formatTime(elapsed)}, Remaining: ${formatTime(estimatedRemainingTime)}`;
              document.getElementById('result').innerText = result;

              await new Promise(resolve => setTimeout(resolve, 1000));
            }
            result = `Goal reached in ${formatTime(elapsed)}!`;
          } else {
            result = `Time to Goal: ${formatTime(seconds)}`;
          }
        } else {
          const seconds = parseTime(goalValueRaw);
          const gained = gainPerSecond * seconds;
          result = `You will gain ${formatNumber(gained)} ${statType} in ${formatTime(seconds)}`;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `You will gain ${formatNumber(gained)} ${statType} at ${localDateStr}`;
        }

      } else {
        const DailyQuests = document.getElementById('SPTSDailyQuests').checked;
        const WeeklyQuests = document.getElementById('SPTSWeeklyQuests').checked;
        const VIP = document.getElementById('SPTSVIP').checked;
        const goalType = document.getElementById('SPTSTokenGoalType').value;
        const valueRaw = document.getElementById('SPTSTokenGoalValue').value;
        const currentToken = parseNumber(document.getElementById('SPTSCurrentTokens').value);

        const tpm = 5;
        const tps_from_tpm = tpm / 60;
        let daily = DailyQuests ? 60 : 0;
        let weekly = WeeklyQuests ? 9300 : 0;
        if (VIP) { daily *= 2; weekly *= 2; }
        const dailyPerSec = daily / 86400;
        const weeklyPerSec = weekly / (7 * 86400);
        const totalPerSec = tps_from_tpm + dailyPerSec + weeklyPerSec;

        if (goalType === 'amountToTime') {
          const goal = parseNumber(valueRaw);
          const left = goal - currentToken;
          const totalSeconds = (left / totalPerSec);

          let currentTokenEdidable = currentToken;
          let elapsed = 0;

          const targetDate = new Date(Date.now() + totalSeconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `Goal reached at: ${localDateStr}`;

          if (dynamicTimestamp) {
            document.getElementById('result').title = resultTitle;
          }

          if (dynamicTimestamp) {
            while (currentTokenEdidable < goal) {
              if (myCalculateId !== currentCalculateId) return;

              currentTokenEdidable += totalPerSec;
              elapsed += 1;

              const remaining = Math.max(0, goal - currentTokenEdidable);
              const estimatedRemainingTime = remaining / (totalPerSec);

              result = `Got ${formatNumber(currentTokenEdidable)} Tokens in ${formatTime(elapsed)}, Remaining: ${formatTime(estimatedRemainingTime)}`;
              document.getElementById('result').innerText = result;

              await new Promise(resolve => setTimeout(resolve, 1000));
            }
            result = `Goal reached in ${formatTime(elapsed)}!`;
          } else {
            result = `Time to Goal: ${formatTime(totalSeconds)}`;
          }
        } else {
          const seconds = parseTime(valueRaw);
          const totalTokens = (seconds) * totalPerSec;
          result = `You will gain ${formatNumber(totalTokens)} tokens in ${formatTime(seconds)}`;

          const targetDate = new Date(Date.now() + seconds * 1000);
          const pad = n => n.toString().padStart(2, '0');
          const localDateStr = `${targetDate.getFullYear()}-${pad(targetDate.getMonth() + 1)}-${pad(targetDate.getDate())} ${pad(targetDate.getHours())}:${pad(targetDate.getMinutes())}:${pad(targetDate.getSeconds())}`;
          resultTitle = `You will gain ${formatNumber(totalTokens)} tokens at ${localDateStr}`;
        }
      }

      document.getElementById('result').innerText = result;
      document.getElementById('result').title = resultTitle;
      saveForm && saveForm();
    }

    window.switchTab = switchTab;
    window.toggleCheckbox = toggleCheckbox;
    window.calculate = calculate;

    window.onload = () => {
      loadForm && loadForm();
      updateCustomCheckboxes && updateCustomCheckboxes();
      updateCustomSelects && updateCustomSelects();
      updateBackgroundClass && updateBackgroundClass();

      const savedTheme = localStorage.getItem('SPTSLightTheme');
      if (savedTheme) {
        applyTheme(savedTheme, 'spts');
        document.getElementById('SPTSLightTheme').checked = savedTheme === 'light';
        document.getElementById('SPTSLightTheme-box').classList.toggle('checked', savedTheme === 'light');
      }

      const statTypeEl = document.getElementById('SPTSStatType');
      const statType = statTypeEl && statTypeEl.value;
      const msTickGroup = document.getElementById('SPTSMSTickGroup');
      if (statType === 'MS') msTickGroup && (msTickGroup.style.display = 'block');
      else msTickGroup && (msTickGroup.style.display = 'none');

      document.querySelectorAll('input, select').forEach(input => {
        input.addEventListener('change', () => {
          saveForm && saveForm();
          if (input.type === 'checkbox') updateCustomCheckboxes && updateCustomCheckboxes();
        });
      });

      initCustomSelects();
    };
  </script>
</body>

</html>